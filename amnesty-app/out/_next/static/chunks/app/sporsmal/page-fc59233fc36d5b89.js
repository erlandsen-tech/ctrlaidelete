(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[880],{3569:(e,s,n)=>{Promise.resolve().then(n.bind(n,2e3))},2e3:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>a});var t=n(5155),l=n(2115),r=n(2712);function a(){let[e,s]=(0,l.useState)(0),[n,a]=(0,l.useState)([]),[i,c]=(0,l.useState)([]),[o,u]=(0,l.useState)(!1),[d,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{a([...r.Zq].sort(()=>.5-Math.random()).slice(0,8))},[]);let m=n[e],g=t=>{if(o||!m)return;h(t?"right":"left"),u(!0);let l=[...i,{questionId:m.id,agree:t}];c(l),setTimeout(()=>{e<n.length-1?s(e+1):(sessionStorage.setItem("userResponses",JSON.stringify(l)),window.location.href="/resultater"),u(!1),h(null)},300)},{handleTouchStart:v,handleTouchMove:j,handleTouchEnd:x,handleMouseDown:p,handleMouseUp:N}=function(e){let{onSwipeLeft:s,onSwipeRight:n}=e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{threshold:r=50,timeout:a=500}=t,[i,c]=(0,l.useState)(null),[o,u]=(0,l.useState)(null),[d,h]=(0,l.useState)(null),m=(0,l.useRef)(null);return(0,l.useEffect)(()=>()=>{m.current&&clearTimeout(m.current)},[]),{handleTouchStart:e=>{u(null),c(e.targetTouches[0].clientX),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{c(null)},a)},handleTouchMove:e=>{u(e.targetTouches[0].clientX)},handleTouchEnd:()=>{if(!i||!o)return;let e=i-o;e>r?s():e<-r&&n(),c(null),u(null),m.current&&(clearTimeout(m.current),m.current=null)},handleMouseDown:e=>{h(e.clientX),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{h(null)},a)},handleMouseUp:e=>{if(null===d)return;let t=window.innerWidth;e.clientX<t/2?s():n(),h(null),m.current&&(clearTimeout(m.current),m.current=null)}}}({onSwipeLeft:()=>g(!1),onSwipeRight:()=>g(!0)}),f=n.length>0?e/n.length*100:0;return m?(0,t.jsxs)("div",{className:"amnesty-container",children:[(0,t.jsx)("header",{className:"amnesty-header",children:(0,t.jsx)("img",{src:"https://amnesty.no/sites/default/files/vedlegg/yellow_logo_print_use.jpg",alt:"Amnesty International",className:"amnesty-logo"})}),(0,t.jsxs)("main",{className:"amnesty-content",children:[(0,t.jsx)("div",{className:"progress-container",children:(0,t.jsx)("div",{className:"progress-bar",style:{width:"".concat(f,"%")}})}),(0,t.jsx)("div",{className:"question-container",children:(0,t.jsxs)("div",{className:"question-card ".concat(o?"animate-".concat(d):""),onTouchStart:v,onTouchMove:j,onTouchEnd:x,onMouseDown:p,onMouseUp:N,children:[(0,t.jsxs)("div",{className:"question-content",children:[(0,t.jsx)("p",{className:"question-text",children:m.text}),m.imageUrl&&(0,t.jsx)("div",{className:"question-image",children:(0,t.jsx)("img",{src:m.imageUrl,alt:"Sp\xf8rsm\xe5lsillustrasjon"})}),m.videoUrl&&(0,t.jsx)("div",{className:"question-video",children:(0,t.jsxs)("video",{controls:!0,children:[(0,t.jsx)("source",{src:m.videoUrl,type:"video/mp4"}),"Din nettleser st\xf8tter ikke videoavspilling."]})})]}),(0,t.jsxs)("div",{className:"swipe-instructions",children:[(0,t.jsxs)("div",{className:"swipe-left",children:[(0,t.jsx)("span",{children:"Uenig"}),(0,t.jsx)("span",{className:"arrow",children:"←"})]}),(0,t.jsxs)("div",{className:"swipe-right",children:[(0,t.jsx)("span",{className:"arrow",children:"→"}),(0,t.jsx)("span",{children:"Enig"})]})]})]})}),(0,t.jsxs)("div",{className:"nav-buttons",children:[(0,t.jsx)("button",{className:"nav-button",onClick:()=>g(!1),disabled:o,children:"Uenig"}),(0,t.jsx)("button",{className:"nav-button nav-button-primary",onClick:()=>g(!0),disabled:o,children:"Enig"})]})]}),(0,t.jsx)("footer",{className:"amnesty-footer",children:(0,t.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Amnesty International Norge"]})})]}):(0,t.jsx)("div",{className:"amnesty-container",children:"Loading..."})}}},e=>{var s=s=>e(e.s=s);e.O(0,[712,441,517,358],()=>s(3569)),_N_E=e.O()}]);